# I/O模型
一个输入操作通常包括两个阶段：
* 等待数据准备好
* 从内核向进程复制数据

对于一个套接字上的输入操作，第一步通常设计等待数据从网络中到达。当所等待数据到达时，它被复制到内核中的某个缓冲区。第二步就是把数据从内核缓冲区复制到应用进程缓冲区。

Unix有五种I/O模型：
* 阻塞式I/O
* 非阻塞式I/O
* I/O复用（select和poll）
* 信号驱动式I/O
* 异步I/O

## 阻塞式I/O
应用进程被阻塞，直到数据从内核缓冲区复制到应用进程缓冲区中才返回。

CPU利用率比较高。

## 非阻塞式I/O
应用进程执行系统调用之后，内核返回一个错误码。应用进程可以继续执行，但是需要不断的执行系统调用来获知I/O是否完成，这种方式称为轮询polling。

CPU要处理更多的系统调用，CPU利用率比较低。

## I/O复用
使用select和poll等待数据，并且可以等待套接字中的任何一个变为可读。这一过程会被阻塞，当某一个套接字可读时返回，之后再使用recvfrom把数据从内核复制到进程中。

## 信号驱动式I/O
应用进程使用系统调用，内核立即返回，应用进程可以继续执行，等待数据阶段应用进程式非阻塞的。内核在数据到达时向应用进程发送SIGIO信号，应用进程收到之后在信号处理程序中调用recvfrom把数据从内核复制到进程中。

## 异步式I/O
应用进程执行系统调用会立即返回，应用进程可以继续执行，不会被阻塞，内核会在所有操作完成之后向应用进程发送信号。

异步 I/O 与信号驱动 I/O 的区别在于，异步 I/O 的信号是通知应用进程 I/O 完成，而信号驱动 I/O 的信号是通知应用进程可以开始 I/O。

同步 I/O 与异步 I/O 的区别在于第二阶段，从内核缓冲区向应用进程缓冲区复制数据的过程，应用进程是否会阻塞。

# I/O 复用
select/poll/epoll都是I/O多路复用的具体实现方式，出现顺序从早到晚。

