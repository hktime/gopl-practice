# 概述
## 计算机网络体系结构
### OSI七层协议
* 应用层：为特定应用程序提供数据传输服务，例如HTTP、DNS等协议。数据单位为**报文**；
* 表示层：数据压缩、加密以及数据描述；
* 会话层：建立及管理会话；
* 传输层：为**进程**提供通用数据传输服务，包括TCP（传输控制协议）和UDP（用户数据包协议）；
* 网络层：为**主机**提供数据传输服务，把传输层传递下来的报文段或者用户数据报封装成**分组**；
* 数据链路层：为同一链路的主机提供数据传输服务，把网络层传下来的分组封装成**帧**；
* 物理层：考虑的是怎样在传输媒体上传输数据比特流，即0、1串。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。

### TCP/IP
只有四层，没有表示层和会话层，数据链路层和物理层合并为网络接口层。
* 应用层
* 传输层
* 网络层
* 网络接口层

# 应用层
## 常用的应用层协议以及端口号
|应用|应用层协议|端口号|传输层协议|备注|
|----|----|----|----|----|
|域名解析|DNS|53|UDP/TCP|长度超过512字节时使用TCP|
|动态主机配置协议|DHCP|67/68|UDP|-|
|简单网络管理协议|SNMP|161/162|UDP|-|
|文件传输协议|FTP|20/21|TCP|控制连接21，数据连接20|
|远程终端协议|TELNET|23|TCP|-|
|超文本传输协议|HTTP|80|TCP|-|
|简单邮件传输协议|SMTP|25|TCP|-|
|邮件读取协议|POP3|110|TCP|-|
|网际报文存取协议|IMAP|143|TCP|-|

## Web页面请求过程
从浏览器输入一个网址，到加载出页面发生了什么？
1. DHCP配置主机信息
假设主机一开始没有IP地址，就需要先通过DHCP来获取。先生成一个DHCP请求报文，然后广播出去，DHCP服务器收到广播帧后，给主机分配IP地址、子网掩码。
2. 通过域名查找对应的IP地址
首先查看hosts文件，没有匹配的话就通过DNS解析域名，发送DNS请求依次到本地DNS服务器、更上一级服务器以及上上级服务器。直到查询到结果，并返回本地DNS服务器，本地DNS服务器缓存再返回给主机。
3. HTTP请求页面
有了IP地址之后，浏览器就可以向服务器的web程序80端口发送TCP连接请求，经过三次握手来建立连接。主机发送GET报文请求数据，服务器查找客户端请求的资源，返回响应报文。
4. 页面渲染
浏览器收到响应报文后，进行渲染，显示Web页面。

在数据包传递的过程中，还涉及到网络层IP协议查询MAC地址的过程，通过ARP协议将IP地址解析成对应的MAC地址。

# 传输层
# 网络层
# 链路层
# 物理层
